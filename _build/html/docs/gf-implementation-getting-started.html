
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Implementing a Resource Grammar Depth-First: First Steps &#8212; gf-docs 1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="implementing-a-resource-grammar-depth-first-first-steps">
<h1>Implementing a Resource Grammar Depth-First: First Steps<a class="headerlink" href="#implementing-a-resource-grammar-depth-first-first-steps" title="Permalink to this heading">¶</a></h1>
<p>Here we’re assuming a few prerequisites:
- You have written some small GF grammars before, or are otherwise familiar with GF syntax and module structure. You know about <code class="docutils literal notranslate"><span class="pre">cat</span></code>, <code class="docutils literal notranslate"><span class="pre">fun</span></code>, <code class="docutils literal notranslate"><span class="pre">lincat</span></code>, <code class="docutils literal notranslate"><span class="pre">lin</span></code> and <code class="docutils literal notranslate"><span class="pre">oper</span></code> definitions, and you know what <code class="docutils literal notranslate"><span class="pre">abstract</span></code>, <code class="docutils literal notranslate"><span class="pre">concrete</span></code> and <code class="docutils literal notranslate"><span class="pre">resource</span></code> modules are. If not, read lessons 1 and 2 of the <a class="reference external" href="http://www.grammaticalframework.org/doc/tutorial/gf-tutorial.html">GF tutorial</a> first.
- You have seen, or perhaps used yourself, the RGL API to implement linearisations. You know what a line like <code class="docutils literal notranslate"><span class="pre">mkCl</span> <span class="pre">(mkNP</span> <span class="pre">i_Pron)</span> <span class="pre">old_A</span></code> means, and when to use it: as a linearisation to some function, e.g. <code class="docutils literal notranslate"><span class="pre">lin</span> <span class="pre">TrueFactAboutMe</span> <span class="pre">=</span> <span class="pre">mkCl</span> <span class="pre">(mkNP</span> <span class="pre">i_Pron)</span> <span class="pre">old_A</span></code>.</p>
<p>You know these things, and you would like to implement a resource grammar for a new language. To get started, we have a very concrete goal: to implement just enough grammar to be able to linearise the Foods grammar, which was introduced in lesson 2 of the GF tutorial. There is a version implemented using the resource grammar in the <a class="reference external" href="https://github.com/GrammaticalFramework/gf-contrib/blob/master/foods/FoodsI.gf">gf-contrib repository</a>: lexicon aside, the implementation is as follows.</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">lincat</span>
<span class="w">  </span><span class="kt">Comment</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Utt</span><span class="w"> </span><span class="p">;</span>
<span class="w">  </span><span class="kt">Item</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">NP</span><span class="w"> </span><span class="p">;</span>
<span class="w">  </span><span class="kt">Kind</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">CN</span><span class="w"> </span><span class="p">;</span>
<span class="w">  </span><span class="kt">Quality</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">AP</span><span class="w"> </span><span class="p">;</span>
<span class="nf">lin</span>
<span class="w">  </span><span class="kt">Pred</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="n">quality</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">mkUtt</span><span class="w"> </span><span class="p">(</span><span class="n">mkCl</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="n">quality</span><span class="p">)</span><span class="w"> </span><span class="p">;</span>
<span class="w">  </span><span class="kt">This</span><span class="w"> </span><span class="n">kind</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">mkNP</span><span class="w"> </span><span class="n">this_Det</span><span class="w"> </span><span class="n">kind</span><span class="w"> </span><span class="p">;</span>
<span class="w">  </span><span class="o">...</span>
<span class="w">  </span><span class="kt">Mod</span><span class="w"> </span><span class="n">quality</span><span class="w"> </span><span class="n">kind</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">mkCN</span><span class="w"> </span><span class="n">quality</span><span class="w"> </span><span class="n">kind</span><span class="w"> </span><span class="p">;</span>
<span class="w">  </span><span class="kt">Very</span><span class="w"> </span><span class="n">quality</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">mkAP</span><span class="w"> </span><span class="n">very_AdA</span><span class="w"> </span><span class="n">quality</span><span class="w"> </span><span class="p">;</span>
</pre></div>
</div>
<p>We want to make a fully functional subset of the RGL, so that we can plug in our grammar (for example, Tamil) just like this:</p>
<div class="highlight-haskell notranslate"><div class="highlight"><pre><span></span><span class="nf">concrete</span><span class="w"> </span><span class="kt">FoodsTam</span><span class="w"> </span><span class="kr">of</span><span class="w"> </span><span class="kt">Foods</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">open</span><span class="w"> </span><span class="kt">SyntaxTam</span><span class="p">,</span><span class="w"> </span><span class="kt">ParadigmsTam</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="p">{</span>

<span class="nf">lincat</span>
<span class="w">  </span><span class="kt">Comment</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Utt</span><span class="w"> </span><span class="p">;</span>
<span class="w">  </span><span class="kt">Item</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">NP</span><span class="w"> </span><span class="p">;</span>
<span class="w">  </span><span class="kt">Kind</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">CN</span><span class="w"> </span><span class="p">;</span>
<span class="w">  </span><span class="kt">Quality</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">AP</span><span class="w"> </span><span class="p">;</span>
<span class="w"> </span><span class="n">lin</span>
<span class="w">   </span><span class="kt">Pred</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="n">quality</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">mkUtt</span><span class="w"> </span><span class="p">(</span><span class="n">mkCl</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="n">quality</span><span class="p">)</span><span class="w"> </span><span class="p">;</span>
<span class="w">   </span><span class="kt">This</span><span class="w"> </span><span class="n">kind</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">mkNP</span><span class="w"> </span><span class="n">this_Det</span><span class="w"> </span><span class="n">kind</span><span class="w"> </span><span class="p">;</span>
<span class="w">   </span><span class="o">...</span>
<span class="w">   </span><span class="kt">Mod</span><span class="w"> </span><span class="n">quality</span><span class="w"> </span><span class="n">kind</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">mkCN</span><span class="w"> </span><span class="n">quality</span><span class="w"> </span><span class="n">kind</span><span class="w"> </span><span class="p">;</span>
<span class="w">   </span><span class="kt">Very</span><span class="w"> </span><span class="n">quality</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">mkAP</span><span class="w"> </span><span class="n">very_AdA</span><span class="w"> </span><span class="n">quality</span><span class="w"> </span><span class="p">;</span>

<span class="w">   </span><span class="kt">Pizza</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">mkN</span><span class="w"> </span><span class="s">&quot;பீத்சா&quot;</span><span class="w"> </span><span class="p">;</span>
<span class="w">   </span><span class="o">...</span>
</pre></div>
</div>
<p>After we’re done with the exercise, all the infrastructure is in place, but a lot of grammatical structures is still missing. So if you tried to use the new language to implement another application grammar, it would <em>compile</em>, but not <em>linearise</em>. But the good news is that once you’re past the initial hurdle of getting all the modules working, the rest is just grammar engineering. And that’s fun!</p>
<blockquote>
<div><p>Note that this approach is not for everyone. Jumping right to the full resource grammar can be overwhelming; in that case, you could try a <a class="reference external" href="https://github.com/GrammaticalFramework/gf-contrib/blob/master/mini/newmini/MiniGrammar.gf">mini resource grammar</a> instead. But that will be the topic of another tutorial—this one is for you if you want to jump right in to the full RGL.</p>
</div></blockquote>
<section id="alternative-1-you-have-access-to-gf-cloud">
<h2>Alternative 1: You have access to GF Cloud<a class="headerlink" href="#alternative-1-you-have-access-to-gf-cloud" title="Permalink to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Go to <a class="reference external" href="https://cloud.grammaticalframework.org/">GF Cloud</a>. Choose
“Minibar”</p></li>
</ol>
<img alt="../_images/Pastedimage20230113114722.png" src="../_images/Pastedimage20230113114722.png" />
<img alt="../_images/Pastedimage20230113123514.png" src="../_images/Pastedimage20230113123514.png" />
<ol class="arabic simple" start="2">
<li><p>For the Grammar, choose “LibraryBrowser.pgf”. For the StartCat,
choose the start category “Utt”.</p></li>
</ol>
<img alt="../_images/Pastedimage20230113123613.png" src="../_images/Pastedimage20230113123613.png" />
<ol class="arabic simple" start="3">
<li><p>Type in the sentence you want to implement, e.g. “this house is big”.
You will have to press “Enter” multiple times to input the sentence.
You should get something like the following:</p></li>
</ol>
<img alt="../_images/Pastedimage20230113123656.png" src="../_images/Pastedimage20230113123656.png" />
<ol class="arabic simple" start="4">
<li><p>Scroll to the bottom. The first output is the syntax tree you want to
implement, from the inner-most functions to the outer-most. So in
this example, if you want to implement the Adjective “big_A”, you
need to implement “PositA” first, then “CompAP”, then finally
“UseComp”. See <a class="reference internal" href="gf-implementation-grammar-engineering-1.html#stage-1"><span class="std std-ref">Implementing a Resource Grammar: Stage 1, A Naive Foods Grammar</span></a> for
how to implement these functions.</p></li>
</ol>
<img alt="../_images/Pastedimage20230113123753.png" src="../_images/Pastedimage20230113123753.png" />
</section>
<section id="alternative-2-you-do-not-have-access-to-gf-cloud">
<h2>Alternative 2: You do not have access to GF Cloud<a class="headerlink" href="#alternative-2-you-do-not-have-access-to-gf-cloud" title="Permalink to this heading">¶</a></h2>
<ol class="arabic">
<li><p>Find the overloaded oper you want to implement. For example, mkNP</p></li>
<li><p>Go to the <a class="reference external" href="https://www.grammaticalframework.org/lib/doc/synopsis/index.html">RGL
Synopsis</a>.
If you lose this link, you can find the RGL Synopsis on the
<a class="reference external" href="https://www.grammaticalframework.org/">Grammatical Framework
website</a></p>
<img alt="../_images/Pastedimage20230113103213.png" src="../_images/Pastedimage20230113103213.png" />
</li>
<li><p>Search for the oper you want. In this case, we search for mkNP. The
below screenshot is a snippet of the different mkNP opers you will
find</p>
<img alt="../_images/Pastedimage20230113103050.png" src="../_images/Pastedimage20230113103050.png" />
</li>
<li><p>Find the type of mkNP you wish to implement. In our example, we will
use “Det -&gt; CN -&gt; NP” which is represented with the example “the five
old men” here.</p></li>
<li><p>Now, go to the Constructors API. You have two options. You can either
go to the github page found here:
<a class="reference external" href="https://github.com/GrammaticalFramework/gf-rgl/blob/master/src/api/Constructors.gf">gf-rgl/master/src/api/Constructors.api</a>
or you can open the file up in your own computer with the following
commands, assuming you are in your gf-rgl folder.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd src/api
$ grep -A1 &lt;OPER&gt; Constructors.gf
</pre></div>
</div>
<p>In our example, we want to grep for “mkNP”, so we would type “grep -A1
mkNP Constructors.gf”</p>
<ol class="arabic simple" start="6">
<li><p>We find the following “Det -&gt; CN -&gt; NP”. Take note of the function
after the equal sign, in this case, it’s DetCN. Note that that the
example phrase given, “the first old man”, is different from the
previous example “the five old men”. This has no bearing on our
implementation, though it might confuse you.:</p></li>
</ol>
<img alt="../_images/Pastedimage20230113104052.png" src="../_images/Pastedimage20230113104052.png" />
<ol class="arabic simple" start="7">
<li><p>Now you have to find where the function is in your Resource Grammar.
If you don’t know where the function is, you can grep it. In our
case, we want to implement DetCN, so we will use the following
command:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ grep DetCN *.gf
</pre></div>
</div>
<p>This will search for DetCN in all .gf files.</p>
<ol class="arabic simple" start="8">
<li><p>Implement the function! You might need to implement other functions.
In that case, return to step 6 and search for the function. Consider
a different function, mkCl. You will have to implement PredVP,
UseComp and CompAP as they make up the implementation of mkCl :</p></li>
</ol>
<img alt="../_images/Pastedimage20230113104702.png" src="../_images/Pastedimage20230113104702.png" />
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">gf-docs</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, Nemo.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../_sources/docs/gf-implementation-getting-started.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>